# Linux

## 1. 发展史

>  Unix

- 1965年之前，电脑只有军事或者学院的研究机构碰的起，当时大型主机至多能提供30台终端（30个键盘、显示器)的连接。
- 1965年左后由贝尔实验室、麻省理工学院 以及 通用电气共同发起了Multics项目，想让大型主机支持300台终端
- 1969年前后这个项目进度缓慢，资金短缺，贝尔实验室退出了研究
- 1969年从这个项目中退出的Ken Thompson当时在实验室无聊时，为了让一台空闲的电脑上能够运行“星际旅行”游行，在8月份左右趁着其妻子探亲的时间，用了1个月的时间编写出了 Unix操作系统的原型
- 1970年，美国贝尔实验室的 Ken Thompson，以 BCPL语言 为基础，设计出很简单且很接近硬件的 B语言（取BCPL的首字母），并且他用B语言写了第一个UNIX操作系统。
  因为B语言的跨平台性较差，为了能够在其他的电脑上也能够运行这个非常棒的Unix操作系统，Dennis Ritchie和Ken Thompson 从B语言的基础上准备研究一个更好的语言
- **1972年，美国贝尔实验室的 Dennis Ritchie在B语言的基础上最终设计出了一种新的语言，他取了BCPL的第二个字母作为这种语言的名字，这就是C语言**
- 1973年初，C语言的主体完成。Thompson和Ritchie迫不及待地开始用它完全重写了现在大名鼎鼎的Unix操作系统

>  Minix

因为AT&T(通用电气)的政策改变，在Version 7 Unix推出之后，发布新的使用条款，将UNIX源代码私有化，在大学中不再能使用UNIX源代码。

Andrew S. Tanenbaum(塔能鲍姆)教授为了能在课堂上教授学生操作系统运作的实务细节，决定在不使用任何AT&T的源代码前提下，自行开发与UNIX兼容的操作系统，以避免版权上的争议。他以小型UNIX（mini-UNIX）之意，将它称为MINIX。

> Linux

因为Minix只是教学使用，因此功能并不强，因此Torvalds利用GNU的bash当做开发环境，gcc当做编译工具，编写了Linux内核-v0.02，但是一开始Linux并不能兼容Unix，即Unix上跑的应用程序不能在Linux上跑，即应用程序与内核之间的接口不一致，因为Unix是遵循POSIX规范的，因此Torvalds修改了Linux，并遵循POSIX（Portable Operating System Interface，他规范了应用程序与内核的接口规范）； 

一开始Linux只适用于386，后来经过全世界的网友的帮助，最终能够兼容多种硬件

## 2. Linux 介绍

### 2.1 内核 发行版

> Linux 内核版本

**内核(kernel)是系统的心脏，是运行程序和管理像磁盘和打印机等硬件设备的核心程序，它提供了一个在裸设备与应用程序间的抽象层。**

Linux内核版本又分为稳定版和开发版，两种版本是相互关联，相互循环：

- 稳定版：具有工业级强度，可以广泛地应用和部署。新的稳定版相对于较旧的只是修正一些bug或加入一些新的驱动程序。
- 开发版：由于要试验各种解决方案，所以变化很快。

> Linux发行版

Linux发行版 (也被叫做 GNU/Linux 发行版) 通常包含了包括桌面环境、办公套件、媒体播放器、数据库等应用软件。

目前市面上较知名的发行版有：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。

### 2.2 Linux 目录

![img](https://raw.githubusercontent.com/ximingx/Figurebed/master/imgs/202204261050978.jpeg)

- /：根目录，一般根目录下只存放目录，在Linux下有且只有一个根目录。所有的东西都是从这里开始。当你在终端里输入“/home”，你其实是在告诉电脑，先从/（根目录）开始，再进入到home目录。

- /bin: /usr/bin: 可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等。

- /boot：放置linux系统启动时用到的一些文件，如Linux的内核文件：/boot/vmlinuz，系统引导管理器：/boot/grub。

- /dev：存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount 

  /dev/cdrom /mnt。

- /etc：系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有 

  /etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d。

- /home：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，表示当前用户的家目录，edu 表示用户 edu 的家目录。
  
- /lib: /usr/lib: /usr/local/lib：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。
  
- /lost+fount：系统异常产生错误时，会将一些遗失的片段放置于此目录下。
  
- /mnt: /media：光盘默认挂载点，通常光盘挂载于 /mnt/cdrom 下，也不一定，可以选择任意位置进行挂载。
  
- /opt：给主机额外安装软件所摆放的目录。
  
- /proc：此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有 /proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等。
  
- /root：系统管理员root的家目录。
  
- /sbin: /usr/sbin: /usr/local/sbin：放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能"查看"而不能设置和使用。
  
- /tmp：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下。
  
- /srv：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内。
  
- /usr：应用程序存放目录，/usr/bin 存放应用程序，/usr/share 存放共享数据，/usr/lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。/usr/local: 存放软件升级包。/usr/share/doc: 系统说明文件存放目录。/usr/share/man: 程序说明文件存放目录。
  
- /var：放置系统执行过程中经常变化的文件，如随时更改的日志文件 /var/log，/var/log/message：所有的登录文件存放目录，/var/spool/mail：邮件存放的目录，/var/run:程序或服务启动后，其PID存放在该目录下。

### 2.3 用户目录

位于/home/user，称之为用户工作目录或家目录,表示方式：

```bash
> /home/user
```

| 文件的颜色 | 含义       |
| ---------- | ---------- |
| 蓝色       | 目录       |
| 绿色       | 可执行文件 |
| 红色       | 压缩文件   |
| 浅蓝色     | 链接文件   |
| 灰色       | 其他文件   |

## 3. Linux 命令

Linux命令格式：

- command ：命令名，相应功能的英文单词或单词的缩写
- [-options] ：选项，可用来对命令进行控制，也可以省略
- parameter ：传给命令的**参数**，可以是 零个、一个 或者 多个

```bash
> command  [-options]  [parameter]  …
```

>  history游览历史

```bash
# 显示最近命令
> history	
# 清除所有的历史记录
> history -c		
# 保存历史记录到文本xxx.txt
> history -w  xxx.txt	
# 查看最近的几条命令
> history 数字
```

> ctrl 组合键

不同于 windows 

- Ctrl+c 结束正在运行的程序
- Ctrl+y 在光标处粘贴剪切的内容
- Ctrl+y 在光标处粘贴剪切的内容
- Ctrl+y 在光标处粘贴剪切的内容

**Linux 刚面世时并没有图形界面，所有的操作全靠命令完成，如磁盘操作、文件存取、目录操作、进程管理、文件权限 设定等**

### 3.1  权限管理

#### 列出目录的内容

> ls -l

Linux文件或者目录名称最长可以有265个字符，“.”代表当前目录，“../”代表上一级目录，以“.”开头的文件为隐藏文件，需要用 -a 参数才能显示。

| 参数 | 含义                                             |
| ---- | ------------------------------------------------ |
| -a   | **显示指定目录下所有子目录与文件，包括隐藏文件** |
| -l   | 以列表方式显示文件的详细信息                     |
| -h   | 配合 -l 以人性化的方式显示文件大小               |

![image-20220426111243768](https://raw.githubusercontent.com/ximingx/Figurebed/master/imgs/202204261112802.png)

ls支持通配符：

| ls te*   | 查找以te开头的文件                                   |
| -------- | ---------------------------------------------------- |
| ls *html | 查找结尾为html的文件                                 |
| ？       | 代表文件名中任意一个字符                             |
| ls ?.c   | 只找第一个字符任意，后缀为.c的文件                   |
| ls a.?   | 只找只有3个字符，前2字符为a.，最后一个字符任意的文件 |

#### 文件[访问权限](https://so.csdn.net/so/search?q=访问权限&spm=1001.2101.3001.7020)

用户能够控制一个给定的文件或目录的访问程度，一个文件或目录可能有读、写及执行权限：

- 读权限（r） ：对于文件，具有读取文件内容的权限；对于目录，具有浏览目录的权限。
- 写权限（w） ：对于文件，具有修改文件内容的权限；对于目录，具有删除、移动目录内文件的权限。
- 可执行权限（x）： 对于文件，具有执行文件的权限；对于目录，该用户具有进入目录的权限。

**通常，Unix/Linux系统只允许文件的属主(所有者)或超级用户改变文件的读写权限。**

```bash
[root@VM-24-5-centos ~]# ls -l
total 72
-rw-r--r-- 1 root root  1781 Apr  8  2021 cosfs.sh
-rw-r--r-- 1 root root  1237 Jan 28  2021 dnspod.sh
-rw-r--r-- 1 root root 25166 Jan 14 11:27 install_panel.sh
-rw-r--r-- 1 root root  2258 Mar  3  2021 install.sh
-rw-r--r-- 1 root root 26455 Mar  7 18:54 off_install.sh
-rw-r--r-- 1 root root  1219 Feb  5  2021 txcdn.sh
#           所有者 用户组
```

![image-20220426112055901](https://raw.githubusercontent.com/ximingx/Figurebed/master/imgs/202204261120932.png)

**文件的类型**

- “d” 代表文件夹
- “-” 代表普通文件
- “c” 代表硬件字符设备
- “b” 代表硬件块设备
- “s”表示管道文件
- “l” 代表软链接文件。

#### 修改文件权限

>  字母法：chmod u/g/o/a +/-/= rwx 文件

```bash
> chmod 用户的选择 权限的更改 更改的部分 文件名
```

用户的选择

| [ u/g/o/a ] | 含义                                                      |
| ----------- | --------------------------------------------------------- |
| u           | user 表示该文件的所有者                                   |
| g           | group 表示与该文件的所有者属于同一组( group )者，即用户组 |
| o           | other 表示其他以外的人                                    |
| a           | all 表示这三者皆是                                        |

权限的更改

| [ ±= ] | 含义     |
| ------ | -------- |
| +      | 增加权限 |
| -      | 撤销权限 |
| =      | 设定权限 |

更改的部分

| rwx	|含义|
| ------ | -------- |
| r	| read 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。|
| w	| write 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。|
| x	| excute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。|

```bash
# eg:
> chmod u=rwx,g=rx,o=r filename
```


### 3.3 文件内容查看

Linux系统中使用以下命令来查看文件的内容：

- cat 由第一行开始显示文件内容
- tac 从最后一行开始显示
- nl 显示的时候，顺道输出行号
- more 一页一页的显示文件内容
- less与more 类似，但可以往前翻页
- head 只看头几行
- tail 只看尾巴几行

> cat、tac

选项与参数：

- -A ：相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
- -v ：列出一些看不出来的特殊字符
- -E ：将结尾的断行字节 $ 显示出来；
- -T ：将 [tab] 按键以 ^I 显示出来；
- -b ：列出行号，空白行不标行号
- **-n ：列出行号，连同空白行也会有行号**

> more

- 空白键 (space)：代表向下翻一页；
- Enter ：代表向下翻『一行』；
- /字串 ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；
- :f ：立刻显示出档名以及目前显示的行数；
- q ：代表立刻离开 more ，不再显示该文件内容。
- b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。
  

### 3.4 文件管理

#### 输出重定向

> 可将本应显示在终端上的内容保存到指定文件中。

```bash
# test.txt 如果不存在，则创建，存在则覆盖其内容
# 注意： > 输出重定向会覆盖原来的内容，>> 输出重定向则会追加到文件的尾部。
> ls > test.txt 
```

#### 管道

管道：一个命令的输出可以通过管道做为另一个命令的输入。

“ | ”的左右分为两端，从左端写入到右端。

#### 清屏

clear作用为清除终端上的显示(类似于DOS的cls清屏功能)，快捷键：Ctrl + l ( “l” 为字母 )。

```bash
> clear
```

#### 切换工作目录

> Linux所有的目录和文件名大小写敏感

cd 后面可跟绝对路径，也可以跟相对路径。

**如果省略目录，则默认切换到当前用户的主目录。**

| 命令 | 含义                                   |
| ---- | -------------------------------------- |
| cd   | 相当于 cd ~                            |
| cd ~ | 切换到当前用户的主目录(/home/用户目录) |
| cd . | 切换到当前目录                         |
| cd … | 切换到上级目录                         |
| cd - | 进入上次所在的目录                     |

> pwd 显示当前所在文件夹的路径

#### 创建目录

> mkdir

mkdir可以创建一个新的目录。

**注意：新建目录的名称不能与当前目录中已有的目录或文件同名，并且目录创建者必须对当前目录具有写权限。**

#### 删除目录

> rm

可通过rm删除文件或目录。**使用rm命令要小心，因为文件删除后不能恢复。为了防止文件误删**，可以在rm后使用-i参数以逐个确认要删除的文件。

| 参数 | 含义                                             |
| ---- | ------------------------------------------------ |
| -i   | 以进行交互式方式执行                             |
| -f   | 强制删除，忽略不存在的文件，无需提示             |
| -r   | 递归地删除目录下的内容，删除文件夹时必须加此参数 |

#### 查找文件

> find 命令功能非常强大，通常用来**在 特定的目录下 搜索 符合条件的文件**
>
> find [路径] -name “*.py”
>
> 如果省略路径，表示在当前文件夹下查找

```bash
# 搜索桌面目录下，文件名包含 1 的文件
> find -name "*1*"
# 搜索桌面目录下，所有以 .txt 为扩展名的文件
> find -name "*.txt"
# 搜索桌面目录下，以数字 1 开头的文件
> find -name "1*"
```

![image-20220503103259738](https://raw.githubusercontent.com/ximingx/Figurebed/master/imgs/image-20220503103259738.png)

#### 文本搜索

>  grep
>
> grep [-选项] '搜索内容串' 文件名

Linux系统中grep命令是一种强大的文本搜索工具，grep允许对文本文件进行模式查找。如果找到匹配模式， grep打印包含模式的所有行。

| 选项 | 含义                                     |
| ---- | ---------------------------------------- |
| -v   | 显示不包含匹配文本的所有行（相当于求反） |
| -n   | 显示匹配行及行号                         |
| -i   | 忽略大小写                               |
| -c   | 计算找到的行数                           |

**grep搜索内容串可以是正则表达式**

#### 拷贝

cp命令的功能是将给出的文件或目录复制到另一个文件或目录中，相当于DOS下的copy命令。

| 选项| 	含义| 
| ---- | ------------------------------------------------ |
| -a| 	该选项通常在复制目录时使用，它保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。| 
| -f| 	已经存在的目标文件而不提示| 
| -i| 	交互式复制，在覆盖目标文件之前将给出提示要求用户确认| 
| -r| 	若给出的源文件是目录文件，则cp将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名。| 
| -v| 	显示拷贝进度| 
| -l| 	创建硬链接(hard link)，而非复制文件本身| 
| -s| 	复制成为符号链接 (symbolic link)，相当于批量创建快捷方式| 
| -u| 	若 destination 比 source 旧才升级 destination ！| 


```bash
# 把文件夹 vim_configure 拷贝到 code 目录里。
> cp vim_configure/ code/ -ivr 
```

#### 归档管理

此命令可以把一系列文件归档到一个大文件中，也可以把档案文件解开以恢复数据。

tar使用格式 tar [参数] 打包文件名 文件

| 参数 | 含义                                                      |
| ---- | --------------------------------------------------------- |
| -c   | 生成档案文件，创建打包文件                                |
| -v   | 列出归档解档的详细过程，显示进度                          |
| -f   | 指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后 |
| -t   | 列出档案中包含的文件                                      |
| -x   | 解开档案文件                                              |

#### 文件压缩解压

**tar与gzip命令结合使用实现文件打包、压缩。 tar只负责打包文件，但不压缩，用gzip压缩tar打包后的文件，其扩展名一般用xxxx.tar.gz。**

```bash
> gzip  [选项]  被压缩文件
> unzip -d 解压后目录文件 压缩文件
```

| 选项 | 含义     |
| ---- | -------- |
| -d   | 解压文件 |
| -r   | 压缩文件 |

### 3.5 用户

在Unix/Linux系统中，不论是由本机或是远程登录系统，每个系统都必须拥有一个账号，并且对于不同的系统资源拥有不同的使用权限。

**Unix/Linux系统中的root账号通常用于系统的维护和管理，它对Unix/Linux操作系统的所有部分具有不受限制的访问权限。**

在Unix/Linux安装的过程中，系统会自动创建许多用户账号，而这些默认的用户就称为“标准用户”。

在大多数版本的Unix/Linux中，都不推荐直接使用root账号登录系统。

> 超级用户

root 账户, 可以执行所有的任务, 具有最高的系统权限, UID 为 0

**Linux的超级用户权限解决方案**
许多系统配置和管理操作需要root权限。Linux提供了特殊机制，让普通用户临时具备root权限。

1. 一种方法是用户执行su命令将自己提升为root权限
2. **另一种方法是使用命令行工具sudo临时使用root身份运行程序，执行完毕后自动返回到普通用户状态。**

```bash
> sudo -i 暂时切换到 root
```

> 系统用户

UID 范围 1-499, 分为两类: Linux 安装时建立的系统账户, 用户自定义账户

> 普通用户

UID 100 开始

#### 当前用户

> whoami

查看当前系统当前账号的用户名。可通过cat /etc/passwd查看系统用户信息。

#### 查看登录用户

who命令用于查看当前所有登录系统的用户信息。

| 选项         | 含义                                               |
| ------------ | -------------------------------------------------- |
| -m或am I     | 只显示运行who命令的用户名、登录终端和登录时间      |
| -q或–count   | 只显示用户的登录账号和登录用户的数量               |
| -u           | 在登录时间后显示该用户最后一次操作到当前的时间间隔 |
| -u或–heading | 显示列标题                                         |

#### 退出登录账户

>  exit

如果是图形界面，退出当前终端；

如果是使用ssh远程登录，退出登陆账户；

如果是切换后的登陆用户，退出则返回上一个登陆账号。

#### 添加用户账号

在Unix/Linux中添加用户账号可以使用adduser或useradd命令，因为adduser命令是指向useradd命令的一个链接，因此，这两个命令的使用格式完全一样。

> useradd [参数] 新建用户账号 -d

| 参数 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| -d   | 指定用户登录系统时的主目录                                   |
| -m   | 自动建立目录，未指定-d参数时会在/home/{当前用户}目录下建立主目录 |
| -g   | 指定组名称                                                   |

- Linux每个用户都要有一个主目录，主目录就是第一次登陆系统，用户的默认当前目录(/home/用户)；
- 每一个用户必须有一个主目录，所以用useradd创建用户的时候，一定给用户指定一个主目录；
- 如果创建用户的时候，不指定组名，那么系统会自动创建一个和用户名一样的组名。

#### 设置用户密码

> passwd 选项 用户名

**超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令。**

可使用的选项：

- -l 锁定口令，即禁用账号。
- -u 口令解锁。
- -d 使账号无口令。
- -f 强迫用户下次登录时修改口令。

#### 删除用户

| 命令                   | 含义                                    |
| ---------------------- | --------------------------------------- |
| userdel abc(用户名)    | 删除abc用户，但不会自动删除用户的主目录 |
| userdel -r abc(用户名) | 删除用户，同时删除用户的主目录          |

#### 切换用户

| 命令          | 含义                                       |
| ------------- | ------------------------------------------ |
| su            | 切换到root用户                             |
| su root       | 切换到root用户                             |
| su -          | 切换到root用户，同时切换目录到/root        |
| su - root     | 切换到root用户，同时切换目录到/root        |
| su 普通用户   | 切换到普通用户                             |
| su - 普通用户 | 切换到普通用户，同时切换普通用户所在的目录 |

#### sudo

sudo命令可以临时获取root权限

使用权限：在 /etc/sudoers 中有出现的使用者。

### 3.6 系统管理

#### 查看当前日历

cal命令用于查看当前日历，-y显示整年日历：

#### 显示或设置时间

> **MM为月，DD为天，hh为小时，mm为分钟；CC为年前两位，YY为年的后两位，ss为秒。**
>
> date [MMDDhhmm[[CC]YY][.ss]] +format

#### 查看进程信息

进程是一个具有一定独立功能的程序，它是操作系统动态执行的基本单元。

ps命令选项：

| 选项 | 含义                                     |
| ---- | ---------------------------------------- |
| -a   | 显示终端上的所有进程，包括其他用户的进程 |
| -u   | 显示进程的详细状态                       |
| -x   | 显示没有控制终端的进程                   |
| -w   | 显示加宽，以便显示更多的信息             |
| -r   | 只显示正在运行的进程                     |

- ps ax 显示所有进程状态状态
- **ps -ef |grep xxx 显示含有xxx的进程**

#### 终止进程

kill命令指定进程号的进程，需要配合 ps 使用。

> kill [-signal] pid

信号值从0到15，**其中9为绝对终止，可以处理一般信号无法终止的进程。**

#### 关机重启

| 命令	| 含义| 
| ---- | ---------------------------------------- |
| reboot	| 重新启动操作系统| 
| shutdown –r now	| 重新启动操作系统，shutdown会给别的用户提示| 
| shutdown -h now	| 立刻关机，其中now相当于时间为0的状态| 
| shutdown -h 20:25| 	系统在今天的20:25 会关机| 
| shutdown -h +10	| 系统再过十分钟后自动关机| 
|  init 0| 	关机| 
| init 6	| 重启| 

#### 检测磁盘空

df 命令用于检测文件系统的磁盘空间占用和空余情况，可以显示所有文件系统对节点和磁盘块的使用情况。

| 选项 | 含义                                 |
| ---- | ------------------------------------ |
| -a   | 显示所有文件系统的磁盘使用情况       |
| -m   | 以1024字节为单位显示                 |
| -t   | 显示各指定文件系统的磁盘空间使用情况 |
| -T   | 显示文件系统                         |

#### 查看或配置网卡信息

> ifconfig 

#### 测试远程主机连通性

> ping



### @ 补充

#### 常用命令

```bash
# 1.进入到用户根目录
cd ~ 或 cd

# 2.查看当前所在目录
pwd

# 3.进入到hadoop用户根目录
cd ~hadoop

# 4.返回到原来目录
cd -

# 5.返回到上一级目录
cd ..

# 6.查看用户根目录下的所有文件
ls -la

# 7.在根目录下创建一个hadoop的文件夹
mkdir /hadoop

# 8.在/hadoop目录下创建src和WebRoot两个文件夹
分别创建：mkdir /hadoop/src
		 mkdir /hadoop/WebRoot
同时创建：mkdir /hadoop/{src,WebRoot}

# 进入到/hadoop目录，在该目录下创建.classpath和README文件
分别创建：touch .classpath
		  touch README
同时创建：touch {.classpath,README}

# 查看/hadoop目录下面的所有文件
ls -la

# 在/hadoop目录下面创建一个test.txt文件,同时写入内容"this is test"
echo "this is test" > test.txt

# 查看一下test.txt的内容
cat test.txt
more test.txt
less test.txt

# 向README文件追加写入"please read me first"
echo "please read me first" >> README

# 将test.txt的内容追加到README文件中
cat test.txt >> README

# 拷贝/hadoop目录下的所有文件到/hadoop-bak
cp -r /hadoop /hadoop-bak

# 在src目录下创建一个struts.xml
> struts.xml

# 删除所有的xml类型的文件
rm -rf *.xml

# 删除/hadoop-bak目录和下面的所有文件
rm -rf /hadoop-bak

# 返回到根目录，将/hadoop目录先打包，再用gzip压缩
分步完成：tar -cvf hadoop.tar hadoop
		  gzip hadoop.tar
一步完成：tar -zcvf hadoop.tar.gz hadoop
		  
# 将其解压缩，再取消打包
分步完成：gzip -d hadoop.tar.gz 或 gunzip hadoop.tar.gz
一步完成：tar -zxvf hadoop.tar.gz

# 将/hadoop目录先打包，同时用bzip2压缩，并保存到/tmp目录下
tar -jcvf /tmp/hadoop.tar.bz2 hadoop

# 将/tmp/hadoop.tar.bz2解压到/usr目录下面
tar -jxvf hadoop.tar.bz2 -C /usr/
```

#### 系统命令

```bash
# 1.查看主机名
hostname

# 2.修改主机名(重启后无效)
hostname hadoop

# 3.修改主机名(重启后永久生效)
vi /ect/sysconfig/network

# 4.修改IP(重启后无效)
ifconfig eth0 192.168.12.22

# 5.修改IP(重启后永久生效)
vi /etc/sysconfig/network-scripts/ifcfg-eth0

# 6.查看系统信息
uname -a
uname -r

# 7.查看ID命令
id -u
id -g

# 8.日期
date
date +%Y-%m-%d
date +%T
date +%Y-%m-%d" "%T

# 9.日历
cal 2012

# 10.查看文件信息
file filename

# 11.挂载硬盘
mount
umount
加载windows共享
mount -t cifs //192.168.1.100/tools /mnt

# 12.查看文件大小
du -h
du -ah

# 13.查看分区
df -h

# 14.ssh
ssh hadoop@192.168.1.1

# 15.关机
shutdown -h now /init 0
shutdown -r now /reboot
```

## 4. vim

Vim是从 vi 发展出来的一个文本编辑器。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。

基本上vi可以分为三种状态：

- 命令模式（command mode)
- 插入模式（Insert mode)
- 底行模式（last line mode)

```bash
:set nu 列出行号
:set nonu	取消行号
:#7 跳到文件中的第7行
/keyword 查找字符  按n向下
?keyword 查找字符  按N向下
:n1,n2/word1/word2/gc  替换指定范围单词，c表示提示
:w 保存文件
:w filename 以指定的文件名另存
:n1,n2 w [filename]	将 n1 到 n2行另存
:r [filename]	读入另一个文件加到光标所在行后面
:! ls /home  在vi当中察看ls输出信息！
:q离开vi
:wq 和 :ZZ 和 :x 保存并退出vi
!强制执行
:% s/^/#/g 来在全部内容的行首添加 # 号注释
:1,10 s/^/#/g 在1~10 行首添加 # 号注释  
```

# Ubuntu 安装

> win10下使用VirtualBox安装ubuntu20.04教程

## 1. 准备安装材料

[VirtualBox 下载](https://www.virtualbox.org/wiki/Downloads)

[ubuntu 下载](https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/)

## 2. 新建虚拟机

